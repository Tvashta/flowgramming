<%- include ("./partials/header.ejs") %>
<br>
<div id="problem">
    <main class="page">
        <section class="clean-block features">
            <div class="container">
                <div class="block-heading"><h2 class="text-info">
                        <%= problem.name %></h2>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-8">
                        <h4 style="color: var(--bs-info);  text-decoration: underline;">Problem Description</h4>
                        <p><%= problem.problemStatement %></p>
                        <h4 style="color: var(--bs-info); text-decoration: underline;">Constraints</h4>
                        <% if(problem.constraints) { %>
                            <% problem.constraints.map((y) => { %>
                                <p>
                                    <%=y%>
                                </p>
                            <% }) %>
                        <% } %>
                    </div>
                    <div class="col-md-4"><h6 style="color: var(--bs-info); text-decoration: underline;">Time Limit</h6>
                        <p><%= problem.timeLimit %></p>
                        <h6 style="color: var(--bs-info);  text-decoration: underline;">Memory Limit</h6>
                        <p><%= problem.memoryLimit %></p>
                        <h6 style="color: var(--bs-info); text-decoration: underline;">Problem Type</h6>
                        <% problem.problemType.map((y) => { %>
                            <p><%= y %></p>
                        <% }) %>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h4 style="color: var(--bs-info); text-decoration: underline;">Sample Input</h4>
                        <% problem.sampleInput.map((y) => { %>
                            <p> <%= y %></p>
                        <% }) %>
                    </div>
                    <div class="col-md-6">
                        <h4 style="color: var(--bs-info); text-decoration: underline;">Sample Output</h4>
                        <% problem.sampleOutput.map((y) => { %>
                        <p><%= y %></p>
                        <% }) %>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h4 style="color: var(--bs-info); text-decoration: underline;">Explanation</h4>
                        <p><%= problem.explanation %></p>
                    </div>
                </div>
            </div>
            <p style="display: none;" id="getContestID"><%=contestId%></p>
        </section>
    </main>
</div>
<%- include ("./partials/footer.ejs") %>
<script>
    let contestId = $("#getContestID").text()
    console.log($("#getContestID").text())
    if(contestId){
        $('#problem').append(
            '<div class="text-md-center"><button class="btn btn-success" id="submit">Submit answer</button></div><br><br>'
        )
        $('#submit').click(() => {
            openNewTab('../../index.html', `<%=problem._id%>&<%=contestId%>IDE`)
        })
    }
</script>